
{% include 'admin_sidebar.html' %}
<title>admin/home</title>
<body>
    
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
        
      </div>
      <div class="cont"> 
        <div class="row">
      <div id="container" style="width:100%; height:400px;" class="col-md-6"> </div>
      
        <script>
          // Data retrieved from https://netmarketshare.com
          document.addEventListener('DOMContentLoaded', function () {
            var chartData = {{chart_data | tojson }};
          

          Highcharts.chart('container', {
              chart: {
                  plotBackgroundColor: null,
                  plotBorderWidth: null,
                  plotShadow: false,
                  type: 'pie'
              },
              title: {
                  text: 'Order Count vs Order Status',
                  align: 'left'
              },
              tooltip: {
                  pointFormat: '{series.name}: <b>{point.y} </b>'
              },
              accessibility: {
                  point: {
                      valueSuffix: '%'
                  }
              },
              plotOptions: {
                  pie: {
                      allowPointSelect: true,
                      cursor: 'pointer',
                      dataLabels: {
                          enabled: true,
                          format: '<b>{point.name}</b>: {point.y}'
                      }
                  }
              },
              series: [{
                  name: 'Order Count',
                  colorByPoint: true,
                  data:chartData
              }]
          });
        });
        </script>
     

        <div id="piecontainer" style="width:100%; height:400px;" class="col-md-6"> </div>

        <script>
          document.addEventListener('DOMContentLoaded', function () {
            var productorders = {{product_data | tojson }};
        // Data retrieved from https://worldpopulationreview.com/country-rankings/countries-by-density
        Highcharts.chart('piecontainer', {
          chart: {
              plotBackgroundColor: null,
              plotBorderWidth: null,
              plotShadow: false,
              type: 'pie'
          },
          title: {
              text: 'Order Count vs Product Orders',
              align: 'left'
          },
          tooltip: {
              pointFormat: '{series.name}: <b>{point.y} </b>'
          },
          accessibility: {
              point: {
                  valueSuffix: '%'
              }
          },
          plotOptions: {
              pie: {
                  allowPointSelect: true,
                  cursor: 'pointer',
                  dataLabels: {
                      enabled: true,
                      format: '<b>{point.name}</b>: {point.y}'
                  }
              }
          },
          series: [{
              name: 'Order Count',
              colorByPoint: true,
              data:productorders
          }]
        });
        });
        </script>
      </div>
    </div>

    <div id="graphcontainer" style="width:100%; height:500px;"> </div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var Data = {{final_output | tojson }};
    var name=Data.map(function(item){
        return item.name;
    });
    var data=Data.map(function(item){
        return item.data;
    });


// Data retrieved from https://worldpopulationreview.com/country-rankings/countries-by-density
Highcharts.chart('graphcontainer', {
  chart: {
      type: 'spline'
  },
  title: {
      text: 'Monthly Orders'
  },
  xAxis: {
    categories: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
    accessibility: {
        description: 'Months of the year'
    }
},
  yAxis: {
      title: {
          text: 'Order Count'
      },
  },
  tooltip: {
      crosshairs: true,
      shared: true
  },
  plotOptions: {
      spline: {
          marker: {
              radius: 4,
              lineColor: '#666666',
              lineWidth: 1
          }
      }
  },
  series: Data
     });
     });
</script>



     
     
    </main>
  </div>
</div>


    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

      <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js" integrity="sha384-gdQErvCNWvHQZj6XZM0dNsAoY4v+j5P1XDpNkcM3HJG1Yx04ecqIHk7+4VBOCHOG" crossorigin="anonymous"></script><script src="dashboard.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
      
      

  </body>
</html>